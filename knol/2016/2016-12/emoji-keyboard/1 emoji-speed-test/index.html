<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, minimal-ui">
	<title>Emoji Speed Test</title>
	<script src="jquery.min.js"></script>
</head>

<style>
    body, html {
        margin: 0;
        padding: 0;
        font-family: Helvetica, sans-serif;
        width: 100%;
        height: 100%;

        background-color: black;
    }
    #page {
    	text-align: center;
    	max-width: 600px;
    	margin: auto;
    	background-color: #EEE;
    	height: 100%;
    	font-size: 0.8em;
    }
    .progress-bar {
    	height: 5px;
    	width: 100%;
    	background-color: white;
    }
    	.internal-progress {
    		height: 100%;
    		width: 100%;
    		background-color: skyblue;
    	}
	.intro.message {
		padding-top: 1em;
	}
		.intro.message p {
			margin-top: 0;
		}
	#emoji-display {
		font-size: 5em;
	}

	#input-field {
		text-align: center;
		font-size: 2em;
		padding: 0.5em;
		width: 1.25em;
		height: 1.25em;
		resize: none;
		-webkit-transition: background-color 50ms; 
    	transition: background-color 50ms;
	}
		#input-field.wrong {
			background-color: pink;
		}
		#input-field.correct {
			background-color: lightgreen;
		}
</style>

<body>
	<div id="page">

		<div class="intro message">
			<p>How many Emojis can you type in X seconds?</p>
		</div>
		<div class="progress-bar">
			<div class="internal-progress"></div>
		</div>
		<div id="emoji-display">üèÅ</div>
		<!-- <input type="text" id="input-field"> -->
		<textarea id="input-field"></textarea>
		<p>To Start, Type: üèÅ</p>
	</div>
</body>

<script>
$(document).ready(function() {

	var emojiSmallList = ["üòÄ", "üò¨", "üòÅ", "üòÇ", "üòÉ", "üòÑ", "üòÖ", "üòÜ", "üòá", "üòâ", "üòä", "üôÇ", "üôÉ", "‚ò∫Ô∏è", "üòã", "üòå", "üòç", "üòò", "üòó", "üòô", "üòö", "üòú", "üòù", "üòõ", "ü§ë", "ü§ì", "üòé", "ü§ó", "üòè", "üò∂", "üòê", "üòë", "üòí", "üôÑ", "ü§î", "üò≥", "üòû", "üòü", "üò†", "üò°", "üòî", "üòï", "üôÅ", "‚òπÔ∏è", "üò£", "üòñ", "üò´", "üò©", "üò§", "üòÆ", "üò±", "üò®", "üò∞", "üòØ", "üò¶", "üòß", "üò¢", "üò•", "üò™", "üòì", "üò≠", "üòµ", "üò≤", "ü§ê", "üò∑", "ü§í", "ü§ï", "üò¥", "üí§", "üí©", "üòà", "üëø", "üëπ", "üë∫", "üíÄ", "üëª", "üëΩ", "ü§ñ", "üò∫", "üò∏", "üòπ", "üòª", "üòº", "üòΩ", "üôÄ", "üòø", "üòæ", "üôå", "üëè", "üëã", "üëç", "üëé", "üëä", "‚úä", "‚úåÔ∏è", "üëå", "‚úã", "üëê", "üí™", "üôè", "‚òùÔ∏è", "üëÜ", "üëá", "üëà", "üëâ", "üñï", "üñê", "ü§ò", "üññ", "‚úçÔ∏è", "üíÖ", "üëÑ", "üëÖ", "üëÇ", "üëÉ", "üëÅ", "üëÄ", "üë§", "üë•", "üó£", "üë∂", "üë¶", "üëß", "üë®", "üë©", "üë±", "üë¥", "üëµ", "üë≤", "üë≥", "üëÆ", "üë∑", "üíÇ", "üïµ", "üéÖ", "üëº", "üë∏", "üë∞", "üö∂", "üèÉ", "üíÉ", "üëØ", "üë´", "üë¨", "üë≠", "üôá", "üíÅ", "üôÖ", "üôÜ", "üôã", "üôé", "üôç", "üíá", "üíÜ", "üíë", "üë©‚Äç‚ù§Ô∏è‚Äçüë©", "üë®‚Äç‚ù§Ô∏è‚Äçüë®", "üíè", "üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë©", "üë®‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë®", "üë™", "üë®‚Äçüë©‚Äçüëß", "üë®‚Äçüë©‚Äçüëß‚Äçüë¶", "üë®‚Äçüë©‚Äçüë¶‚Äçüë¶", "üë®‚Äçüë©‚Äçüëß‚Äçüëß", "üë©‚Äçüë©‚Äçüë¶", "üë©‚Äçüë©‚Äçüëß", "üë©‚Äçüë©‚Äçüëß‚Äçüë¶", "üë©‚Äçüë©‚Äçüë¶‚Äçüë¶", "üë©‚Äçüë©‚Äçüëß‚Äçüëß", "üë®‚Äçüë®‚Äçüë¶", "üë®‚Äçüë®‚Äçüëß", "üë®‚Äçüë®‚Äçüëß‚Äçüë¶", "üë®‚Äçüë®‚Äçüë¶‚Äçüë¶", "üë®‚Äçüë®‚Äçüëß‚Äçüëß", "üëö", "üëï", "üëñ", "üëî", "üëó", "üëô", "üëò", "üíÑ", "üíã", "üë£", "üë†", "üë°", "üë¢", "üëû", "üëü", "üëí", "üé©", "‚õë", "üéì", "üëë", "üéí", "üëù", "üëõ", "üëú", "üíº", "üëì", "üï∂", "üíç", "üåÇ", "üê∂", "üê±", "üê≠", "üêπ", "üê∞", "üêª", "üêº", "üê®", "üêØ", "ü¶Å", "üêÆ", "üê∑", "üêΩ", "üê∏", "üêô", "üêµ", "üôà", "üôâ", "üôä", "üêí", "üêî", "üêß", "üê¶", "üê§", "üê£", "üê•", "üê∫", "üêó", "üê¥", "ü¶Ñ", "üêù", "üêõ", "üêå", "üêû", "üêú", "üï∑", "ü¶Ç", "ü¶Ä", "üêç", "üê¢", "üê†", "üêü", "üê°", "üê¨", "üê≥", "üêã", "üêä", "üêÜ", "üêÖ", "üêÉ", "üêÇ", "üêÑ", "üê™", "üê´", "üêò", "üêê", "üêè", "üêë", "üêé", "üêñ", "üêÄ", "üêÅ", "üêì", "ü¶É", "üïä", "üêï", "üê©", "üêà", "üêá", "üêø", "üêæ", "üêâ", "üê≤", "üåµ", "üéÑ", "üå≤", "üå≥", "üå¥", "üå±", "üåø", "‚òò", "üçÄ", "üéç", "üéã", "üçÉ", "üçÇ", "üçÅ", "üåæ", "üå∫", "üåª", "üåπ", "üå∑", "üåº", "üå∏", "üíê", "üçÑ", "üå∞", "üéÉ", "üêö", "üï∏", "üåé", "üåç", "üåè", "üåï", "üåñ", "üåó", "üåò", "üåë", "üåí", "üåì", "üåî", "üåö", "üåù", "üåõ", "üåú", "üåû", "üåô", "‚≠êÔ∏è", "üåü", "üí´", "‚ú®", "‚òÑÔ∏è", "‚òÄÔ∏è", "üå§", "‚õÖÔ∏è", "üå•", "üå¶", "‚òÅÔ∏è", "üåß", "‚õà", "üå©", "‚ö°Ô∏è", "üî•", "üí•", "‚ùÑÔ∏è", "üå®", "‚òÉÔ∏è", "‚õÑÔ∏è", "üå¨", "üí®", "üå™", "üå´", "‚òÇÔ∏è", "‚òîÔ∏è", "üíß", "üí¶", "üåä", "üçè", "üçé", "üçê", "üçä", "üçã", "üçå", "üçâ", "üçá", "üçì", "üçà", "üçí", "üçë", "üçç", "üçÖ", "üçÜ", "üå∂", "üåΩ", "üç†", "üçØ", "üçû", "üßÄ", "üçó", "üçñ", "üç§", "üç≥", "üçî", "üçü", "üå≠", "üçï", "üçù", "üåÆ", "üåØ", "üçú", "üç≤", "üç•", "üç£", "üç±", "üçõ", "üçô", "üçö", "üçò", "üç¢", "üç°", "üçß", "üç®", "üç¶", "üç∞", "üéÇ", "üçÆ", "üç¨", "üç≠", "üç´", "üçø", "üç©", "üç™", "üç∫", "üçª", "üç∑", "üç∏", "üçπ", "üçæ", "üç∂", "üçµ", "‚òïÔ∏è", "üçº", "üç¥", "üçΩ", "‚öΩÔ∏è", "üèÄ", "üèà", "‚öæÔ∏è", "üéæ", "üèê", "üèâ", "üé±", "‚õ≥Ô∏è", "üèå", "üèì", "üè∏", "üèí", "üèë", "üèè", "üéø", "‚õ∑", "üèÇ", "‚õ∏", "üèπ", "üé£", "üö£", "üèä", "üèÑ", "üõÄ", "‚õπ", "üèã", "üö¥", "üöµ", "üèá", "üï¥", "üèÜ", "üéΩ", "üèÖ", "üéñ", "üéó", "üèµ", "üé´", "üéü", "üé≠", "üé®", "üé™", "üé§", "üéß", "üéº", "üéπ", "üé∑", "üé∫", "üé∏", "üéª", "üé¨", "üéÆ", "üëæ", "üéØ", "üé≤", "üé∞", "üé≥", "üöó", "üöï", "üöô", "üöå", "üöé", "üèé", "üöì", "üöë", "üöí", "üöê", "üöö", "üöõ", "üöú", "üèç", "üö≤", "üö®", "üöî", "üöç", "üöò", "üöñ", "üö°", "üö†", "üöü", "üöÉ", "üöã", "üöù", "üöÑ", "üöÖ", "üöà", "üöû", "üöÇ", "üöÜ", "üöá", "üöä", "üöâ", "üöÅ", "üõ©", "‚úàÔ∏è", "üõ´", "üõ¨", "‚õµÔ∏è", "üõ•", "üö§", "‚õ¥", "üõ≥", "üöÄ", "üõ∞", "üí∫", "‚öìÔ∏è", "üöß", "‚õΩÔ∏è", "üöè", "üö¶", "üö•", "üèÅ", "üö¢", "üé°", "üé¢", "üé†", "üèó", "üåÅ", "üóº", "üè≠", "‚õ≤Ô∏è", "üéë", "‚õ∞", "üèî", "üóª", "üåã", "üóæ", "üèï", "‚õ∫Ô∏è", "üèû", "üõ£", "üõ§", "üåÖ", "üåÑ", "üèú", "üèñ", "üèù", "üåá", "üåÜ", "üèô", "üåÉ", "üåâ", "üåå", "üå†", "üéá", "üéÜ", "üåà", "üèò", "üè∞", "üèØ", "üèü", "üóΩ", "üè†", "üè°", "üèö", "üè¢", "üè¨", "üè£", "üè§", "üè•", "üè¶", "üè®", "üè™", "üè´", "üè©", "üíí", "üèõ", "‚õ™Ô∏è", "üïå", "üïç", "üïã", "‚õ©", "‚åöÔ∏è", "üì±", "üì≤", "üíª", "‚å®Ô∏è", "üñ•", "üñ®", "üñ±", "üñ≤", "üïπ", "üóú", "üíΩ", "üíæ", "üíø", "üìÄ", "üìº", "üì∑", "üì∏", "üìπ", "üé•", "üìΩ", "üéû", "üìû", "‚òéÔ∏è", "üìü", "üì†", "üì∫", "üìª", "üéô", "üéö", "üéõ", "‚è±", "‚è≤", "‚è∞", "üï∞", "‚è≥", "‚åõÔ∏è", "üì°", "üîã", "üîå", "üí°", "üî¶", "üïØ", "üóë", "üõ¢", "üí∏", "üíµ", "üí¥", "üí∂", "üí∑", "üí∞", "üí≥", "üíé", "‚öñ", "üîß", "üî®", "‚öí", "üõ†", "‚õè", "üî©", "‚öô", "‚õì", "üî´", "üí£", "üî™", "üó°", "‚öî", "üõ°", "üö¨", "‚ò†Ô∏è", "‚ö∞", "‚ö±", "üè∫", "üîÆ", "üìø", "üíà", "‚öó", "üî≠", "üî¨", "üï≥", "üíä", "üíâ", "üå°", "üè∑", "üîñ", "üöΩ", "üöø", "üõÅ", "üîë", "üóù", "üõã", "üõå", "üõè", "üö™", "üõé", "üñº", "üó∫", "‚õ±", "üóø", "üõç", "üéà", "üéè", "üéÄ", "üéÅ", "üéä", "üéâ", "üéé", "üéê", "üéå", "üèÆ", "‚úâÔ∏è", "üì©", "üì®", "üìß", "üíå", "üìÆ", "üì™", "üì´", "üì¨", "üì≠", "üì¶", "üìØ", "üì•", "üì§", "üìú", "üìÉ", "üìë", "üìä", "üìà", "üìâ", "üìÑ", "üìÖ", "üìÜ", "üóì", "üìá", "üóÉ", "üó≥", "üóÑ", "üìã", "üóí", "üìÅ", "üìÇ", "üóÇ", "üóû", "üì∞", "üìì", "üìï", "üìó", "üìò", "üìô", "üìî", "üìí", "üìö", "üìñ", "üîó", "üìé", "üñá", "‚úÇÔ∏è", "üìê", "üìè", "üìå", "üìç", "üö©", "üè≥", "üè¥", "üîê", "üîí", "üîì", "üîè", "üñä", "üñã", "‚úíÔ∏è", "üìù", "‚úèÔ∏è", "üñç", "üñå", "üîç", "üîé", "‚ù§Ô∏è", "üíõ", "üíö", "üíô", "üíú", "üíî", "‚ù£Ô∏è", "üíï", "üíû", "üíì", "üíó", "üíñ", "üíò", "üíù", "üíü", "‚òÆÔ∏è", "‚úùÔ∏è", "‚ò™Ô∏è", "üïâ", "‚ò∏Ô∏è", "‚ú°Ô∏è", "üîØ", "üïé", "‚òØÔ∏è", "‚ò¶Ô∏è", "üõê", "‚õé", "‚ôàÔ∏è", "‚ôâÔ∏è", "‚ôäÔ∏è", "‚ôãÔ∏è", "‚ôåÔ∏è", "‚ôçÔ∏è", "‚ôéÔ∏è", "‚ôèÔ∏è", "‚ôêÔ∏è", "‚ôëÔ∏è", "‚ôíÔ∏è", "‚ôìÔ∏è", "üÜî", "‚öõ", "üà≥", "üàπ", "‚ò¢Ô∏è", "‚ò£Ô∏è", "üì¥", "üì≥", "üà∂", "üàöÔ∏è", "üà∏", "üà∫", "üà∑Ô∏è", "‚ú¥Ô∏è", "üÜö", "üâë", "üíÆ", "üâê", "„äôÔ∏è", "„äóÔ∏è", "üà¥", "üàµ", "üà≤", "üÖ∞Ô∏è", "üÖ±Ô∏è", "üÜé", "üÜë", "üÖæÔ∏è", "üÜò", "‚õîÔ∏è", "üìõ", "üö´", "‚ùå", "‚≠ïÔ∏è", "üí¢", "‚ô®Ô∏è", "üö∑", "üöØ", "üö≥", "üö±", "üîû", "üìµ", "‚ùóÔ∏è", "‚ùï", "‚ùì", "‚ùî", "‚ÄºÔ∏è", "‚ÅâÔ∏è", "üíØ", "üîÖ", "üîÜ", "üî±", "‚öú", "„ÄΩÔ∏è", "‚ö†Ô∏è", "üö∏", "üî∞", "‚ôªÔ∏è", "üàØÔ∏è", "üíπ", "‚ùáÔ∏è", "‚ú≥Ô∏è", "‚ùé", "‚úÖ", "üí†", "üåÄ", "‚ûø", "üåê", "‚ìÇÔ∏è", "üèß", "üàÇÔ∏è", "üõÇ", "üõÉ", "üõÑ", "üõÖ", "‚ôøÔ∏è", "üö≠", "üöæ", "üÖøÔ∏è", "üö∞", "üöπ", "üö∫", "üöº", "üöª", "üöÆ", "üé¶", "üì∂", "üàÅ", "üÜñ", "üÜó", "üÜô", "üÜí", "üÜï", "üÜì", "üîü", "üî¢", "‚ñ∂Ô∏è", "‚è∏", "‚èØ", "‚èπ", "‚è∫", "‚è≠", "‚èÆ", "‚è©", "‚è™", "üîÄ", "üîÅ", "üîÇ", "‚óÄÔ∏è", "üîº", "üîΩ", "‚è´", "‚è¨", "‚û°Ô∏è", "‚¨ÖÔ∏è", "‚¨ÜÔ∏è", "‚¨áÔ∏è", "‚ÜóÔ∏è", "‚ÜòÔ∏è", "‚ÜôÔ∏è", "‚ÜñÔ∏è", "‚ÜïÔ∏è", "‚ÜîÔ∏è", "üîÑ", "‚Ü™Ô∏è", "‚Ü©Ô∏è", "‚§¥Ô∏è", "‚§µÔ∏è", "‚ÑπÔ∏è", "üî§", "üî°", "üî†", "üî£", "üéµ", "üé∂", "„Ä∞Ô∏è", "‚û∞", "‚úîÔ∏è", "üîÉ", "‚ûï", "‚ûñ", "‚ûó", "‚úñÔ∏è", "üí≤", "üí±", "¬©Ô∏è", "¬ÆÔ∏è", "‚Ñ¢Ô∏è", "üîö", "üîô", "üîõ", "üîù", "üîú", "‚òëÔ∏è", "üîò", "‚ö™Ô∏è", "‚ö´Ô∏è", "üî¥", "üîµ", "üî∏", "üîπ", "üî∂", "üî∑", "üî∫", "‚ñ™Ô∏è", "‚ñ´Ô∏è", "‚¨õÔ∏è", "‚¨úÔ∏è", "üîª", "‚óºÔ∏è", "‚óªÔ∏è", "‚óæÔ∏è", "‚óΩÔ∏è", "üî≤", "üî≥", "üîà", "üîâ", "üîä", "üîá", "üì£", "üì¢", "üîî", "üîï", "üÉè", "üÄÑÔ∏è", "‚ô†Ô∏è", "‚ô£Ô∏è", "‚ô•Ô∏è", "‚ô¶Ô∏è", "üé¥", "üëÅ‚Äçüó®", "üí≠", "üóØ", "üí¨", "üïê", "üïë", "üïí", "üïì", "üïî", "üïï", "üïñ", "üïó", "üïò", "üïô", "üïö", "üïõ", "üïú", "üïù", "üïû", "üïü", "üï†", "üï°", "üï¢", "üï£", "üï§", "üï•", "üï¶", "üïß", ];
	// ^ glitchy [0-9,*,#][numpads], and flags - removed.
	var _test_duration_s = 60;
	var msg = 'How many Emojis can you type in '+_test_duration_s+' seconds?'
	$('.intro.message p').html(msg);
	var _time_start_ms = new Date().getTime();	
	var _display_emoji = 'üèÅ';
	var score = 0;
	var misses = 0;
	var progress_n100 = 0;

	var _playing = false;

	// Update Progress Bar Continuously.
	window.setInterval(function() {

		// Update Progress Bar
		if (_playing) {
			updateProgressBar();

			if (progress_n100 >= 100) {
				// Update intro.message with score
				var msg = 'You scored '+score+' and missed '+misses+'. '+ 'That\'s 1 emoji every '+_test_duration_s/score.toFixed(2) + ' seconds. üòä';
				$('.intro.message p').html(msg)
				// Reset Display Emoji
				progress_n100 = 0;
				_display_emoji = 'üèÅ';
				$('#emoji-display').html(_display_emoji);
				// Turn of Playing
				_playing = false;
			}
		}
		
	}, 50);

	$('#input-field').on('input', function() {
		// Get Value
		var val = $(this).val();

		if (val == _display_emoji) {
			score++;
			$('#input-field').addClass('correct');
			if (!_playing) {
				// turn on playing
				_playing = true;

				_time_start_ms = new Date().getTime();	
				score = 0;
				misses = 0;
			}
		} else {
			misses++;
			$('#input-field').addClass('wrong');
		}

		// Update Emoji
		if (_playing) { changeEmoji(); }

		// Clear Input Field 
		setTimeout(function() {
			$('#input-field').val('');
			$('#input-field').removeClass('wrong');
			$('#input-field').removeClass('correct');
		}, 200);
	});

	function updateProgressBar() {
		var curTime = new Date().getTime();
		var timeElapsed_ms = curTime - _time_start_ms;
		progress_n100 = (timeElapsed_ms / 1000.0) / _test_duration_s * 100;
		progress_n100 = Math.min(progress_n100, 100);
		$('.internal-progress').css('width', progress_n100+'%');
	}

	function changeEmoji() {
		_display_emoji = emojiSmallList[Math.floor(Math.random()*emojiSmallList.length)];

		// ^- need to make sure this works for numbers! // or simply remove them for now.
		$('#emoji-display').html(_display_emoji);
	}
});


</script>

</html>

<!-- 
Misc. Futures
- option to turn force user to click enter to submit or not.
 -->