package {	import flash.display.Sprite;	import flash.events.Event;	public class main extends Sprite {		private var t_cur=-2*Math.PI;		private var t_int=0.1;		private var t_max=-2*Math.PI+0.01;		private var tran_amp=100;		private var fps=24;		private var t_turn_cur=4;		private var t_turn_max=4;		private var vel_wlk_dir=0;		private var vel_wlk_cur=0;		private var vel_wlk_rtn=10;		private var vel_wlk_int=2;		private var vel_wlk_max=15;//vel_wlk - intricate relationship - t_int		private var midxstage=stage.stageWidth/2;		private var bound_bg_l=- midxstage+tran_amp;		private var bound_bg_r=0;		private var xkeydir3=0;//3 -> -1,0,1		private var xkeydir2=1;//2 -> -1,1		public var keyboard_input:keys;		public var all=new rootbox  ;		public function main() {			addChild(all);			var keyboard_sprite = new Sprite();			addChild(keyboard_sprite);			keyboard_input=new keys(keyboard_sprite);			stage.addEventListener(Event.ENTER_FRAME,on_enter_frame);			bound_bg_l=- midxstage-tran_amp;			bound_bg_r=- all.bg.width+midxstage+tran_amp;			all.bg.x=bound_bg_l;			all.boxi.y=225;		}		public function on_enter_frame(event:Event) {			//preset			if (keyboard_input.is_right()) {				xkeydir3=-1;				xkeydir2=-1;			} else {				if (keyboard_input.is_left()) {					xkeydir3=1;					xkeydir2=1;				} else {					xkeydir3=0;				}			}			//			if (t_cur<t_max) {				all.x=midxstage-tran_amp*Math.cos(t_cur);				t_cur+=t_int;			} else {				all.x=midxstage-tran_amp*Math.cos(t_max);//[On]/Off-Dispels jetlag effect//			}			if (keyboard_input.is_right()) {				if (t_max>0) {					if (t_cur<t_max) {						t_cur=- t_cur;					} else {						t_cur=-3*Math.PI;					}					t_max=-2*Math.PI;				}			} else {				if (keyboard_input.is_left()) {					if (t_max<0) {						if (t_cur<t_max) {							t_cur=- t_cur;						} else {							t_cur=2*Math.PI;						}						t_max=3*Math.PI;					}				}			}			if (vel_wlk_cur<vel_wlk_max) {				vel_wlk_cur+=vel_wlk_int;			}			//if ((keyboard_input.is_right())||(keyboard_input.is_left())) {			if (keyboard_input.is_right()) {				if (vel_wlk_dir==xkeydir2) {					vel_wlk_cur=- vel_wlk_int;				}				if (xkeydir2*all.bg.x<xkeydir2*bound_bg_r) {					all.bg.x-=vel_wlk_dir*vel_wlk_cur;				}				vel_wlk_dir=- xkeydir2;			}			if (keyboard_input.is_left()) {				if (vel_wlk_dir==xkeydir2) {					vel_wlk_cur=- vel_wlk_int;				}				if (xkeydir2*all.bg.x<xkeydir2*bound_bg_l) {					all.bg.x-=vel_wlk_dir*vel_wlk_cur;				}				vel_wlk_dir=- xkeydir2;			}			if ((all.bg.x>bound_bg_r)&&(all.bg.x<bound_bg_l)) {			}			if ((keyboard_input.is_left())||(keyboard_input.is_right())) {			} else {			}		}	}}