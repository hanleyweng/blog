---
layout: default
---

<style>
  .post-collection {
    background: beige;
  }
    .post-entry {
      border: 1px solid;
    }
    .post-entry .thumb {
      background: orange;
      width: 100px;
      height: 100px;
      float: left;

      background-image: url(/blog/site-images/blank-text.png);
      background-color: pink;
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center center;
    }
    .post-entry .text {
      min-height: 100px;
      background: cyan;
      margin-left: 120px;
    }
</style>

<!--[if lte IE 6]>
  <style>
    .post-entry .text {
      height: 100px;
    }
  </style>
<![endif]-->

<div class="home">

  <h1 class="page-heading">Posts</h1>

  <div class="post-collection">
    {% for post in site.posts %}
      <div class="post-entry">

          <!-- DETERMINE IF THERE'S A COVER IMAGE -->

          <!-- Array, via: https://talk.jekyllrb.com/t/how-do-you-add-items-to-an-array-in-jekyll/324/2 -->
          {% assign folders_array = "" | split:"|" %}
          <!-- Determine Directory, via: http://stackoverflow.com/questions/31760004/loop-through-a-directory-and-its-sub-directories-files-in-liquid -->
          {% assign path = post.path | remove_first:'_posts/' | split:'/' %}
          {% for folder in path %}
              {% unless forloop.last %}
                {% assign folders_array = folders_array | push: folder %}
              {% endunless %}
          {% endfor %}
          
          {% assign post_path = folders_array | join:'/' %} <!-- (different from post.path) -->

          {% assign cover_path = post_path | prepend: '/' | append: '/_cover_image/original.jpg' %}
          
          {% capture cover_image %}{% file_exists {{ cover_path }} %}{% endcapture %}

          {% if cover_image == "true" %}
            <!-- <div class="thumb" style="background-image:url( {{ post.url | prepend: site.baseurl | append: '/../_cover_image/original.jpg'}} )"> -->
            <div class="thumb" style="background-image:url( {{ cover_path | prepend: site.baseurl }} )">
              <!-- exists -->
            </div>
          {% else %}
            <div class="thumb">
              <!-- absent -->
            </div>
          {% endif %}

        <div class="text">
          <span class="post-meta">{{ post.date | date: "%b %-d, %Y" }}</span>
          <h2>
            <a href="{{ post.url | prepend: site.baseurl }}">{{ post.title }}</a>
          </h2>
        </div>
      </div>
    {% endfor %}
  </div>

  <ul class="post-list">
    {% for post in site.posts %}
      <li>
        <span class="post-meta">{{ post.date | date: "%b %-d, %Y" }}</span>
        <h2>
          <a class="post-link" href="{{ post.url | prepend: site.baseurl }}">{{ post.title }}</a>
        </h2>
      </li>
    {% endfor %}
  </ul>

  <p class="rss-subscribe">subscribe <a href="{{ "/feed.xml" | prepend: site.baseurl }}">via RSS</a></p>

</div>

